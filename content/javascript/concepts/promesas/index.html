<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Promesas &#183; Book</title><link rel=stylesheet href=/book__a/css/style.css><link rel=stylesheet href=/book__a/css/fonts.css><link rel=icon href=/book__a/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/book__a/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/book__a/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/book__a/images/apple-touch-icon.png><link href=/book__a/content/javascript/concepts/promesas/index.xml rel=alternate type=application/rss+xml title=Book><script src=/book__a/js/darkmode.js></script></head><body><nav class=nav><div class=nav-container><a href=/><h1 class=nav-title>Book</h1></a><ul><li><a href=/book__a/categories/><span>Categorias</span></a></li><li><a href=/book__a/content/><span>Contenido</span></a></li><li><a href=/book__a/tags/><span>Etiquetas</span></a></li></ul></div></nav><div id=darkModeToggle onclick=toggleDarkMode()>&#9680;</div><main><div class=catalogue><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/async-await/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>async/await Como usar aync/await con una promesa?
function pepe() { return new Promise(function(resolve, reject) { setTimeout(() => { console.log('Primera cadena de promesas'); resolve(1) }, 3000); // (*) }).then(function(result) { // (**) console.log(result); // 1 return result * 2; }) } async function nani(){ await pepe() }; nani(); o
const pepe = new Promise(function(resolve, reject) { setTimeout(() => { console.log('Primera cadena de promesas'); resolve(1) }, 3000); // (*) }).then(function(result) { // (**) console.</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/basic/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>Basic Para ejecutar una promesa
a .then(res => { console.log(`Success: ${res}`) }) .catch(error => { console.log(`Error: ${error}`) }) Se usa then para ejecutar una funcion si la operacion es exitosa y catch para ejecutar una accion en caso de que exista un error.
Funcion normal se puede ejecutar una promesa dentro de una funcion normal
function cara() { const resultado = 'VALOR'; return new Promise((a,b)=> { a(resultado); }) } function normal() { cara() .</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/commond-mistakes/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>commond mistakes // ¡Mal ejemplo! hacerlAlgo().then(function(resultado) { hacerOtraCosa(resultado) // Olvida devolver una promesa desde el interior de la cadena + anidamiento innecesario .then(nuevoResultado => hacerUnaTerceraCosa(nuevoResultado)); }).then(() => hacerUnaCuartaCosa()); // Olvida terminar la cadena con un catch! deferred antipattern
function getStuffDone(param) { return new Promise(function(resolve, reject) { myPromiseFn(param+1) .then(function(val) { resolve(val); }).catch(function(err) { reject(err); }); }); } no encadenar las acciones adecuadamente. Esto sucede cuando creamos una promesa y olvidamos devolverla. Como consecuencia, la cadena se rompe, o mejor dicho, tenemos dos cadenas independientes que compiten.</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/ejemplos/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>Ejemplos Primer const a = id => { return new Promise((resolve,reject)=>{ if(x == 10) { resolve('Correcto') } else { reject('Incorrecto'); } }); }; a(23) .then(resultado=>{ console.log(resultado); })</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/encadenado/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>Encadenado Encadenar cadenas de promesas xample 1 - basic const promise = new Promise(function(resolve, reject) { setTimeout(() => { console.log('Primera cadena de promesas'); resolve(1) }, 1000); // (*) }) .then(function(result) { // (**) console.log(result); // 1 return result * 2; }) .then(res=> { console.log(res); return res*2 }) .catch(err => { console.log(err); }); const promise2 = promise .then(result => { console.log('segunda cadena de promesas'); console.log(result); // 4 return result * 2; }) .</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/promise-callback/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>Usar promise con callback fs.readFile new Promise(function (resolve, reject) { fs.readFile('myfile.txt', function (err, file) { if (err) { return reject(err); } resolve(file); }); }).then(/* ... */)</p></div></a><a href=https://rick-torrellas.github.io/book__a/content/javascript/concepts/promesas/then/ class=catalogue-item><div><time datetime="0001-01-01 00:00:00 +0000 UTC" class=catalogue-time>January 1, 0001</time><h2 class=catalogue-title></h2><div class=catalogue-line></div><p>Then Que se puede hacer dentro de un then?
Nota: creo que la respuesta no tiene que usarse ajuro, en el siguiente return. Pero si debes retornar algo ajuro.
Nota:
return another promise function promesa() { const valor = 'ramon'; return new Promise((ar,er) => { ar(valor); }) } function otraPromesa(value) { const valor = `${value}!!!!!!`; return new Promise((ar,er) => { if (valor == undefined) { er(); } ar(valor.toUpperCase()); }) } promesa() .</p></div></a></div><div class=pagination><span>1</span></div></main><footer><span>&copy; <time datetime="2022-09-28 23:49:22.308352973 +0000 UTC m=+0.600218379">2022</time> . Made with <a href=https://gohugo.io>Hugo</a> using the <a href=https://github.com/EmielH/tale-hugo/>Tale</a> theme.</span></footer></body></html>